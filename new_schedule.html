<!DOCTYPE html>
<html>
<head>
    <title>Create New Schedule</title>
    <script>
        function addTopicField() {
            const container = document.getElementById("topics");
            const input = document.createElement("input");
            input.type = "text";
            input.name = "topics";
            input.className = "topic-input";
            input.placeholder = "Enter a topic...";
            container.appendChild(input);
        }

        function removeTopicField() {
            const container = document.getElementById("topics");
            const inputs = container.getElementsByClassName("topic-input");
            if (inputs.length > 1) {
                container.removeChild(inputs[inputs.length - 1]);
            }
        }
    </script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        input[type="text"] { padding: 8px; margin: 8px; width: 300px; }
        button { margin: 10px; padding: 10px 20px; }
    </style>
</head>
<body>
    <h2>📝 Create a New Learning Schedule</h2>

    <form method="POST">
        <label>Schedule Title:</label><br>
        <input type="text" name="schedule_title" required><br><br>

        <div id="topics">
            <input type="text" name="topics" class="topic-input" placeholder="Enter a topic..." required>
        </div>

        <button type="button" onclick="addTopicField()">➕ Add Topic</button>
        <button type="button" onclick="removeTopicField()">➖ Remove Topic</button><br><br>

        <button type="submit">✅ Submit Schedule</button>
        <a href="{{ url_for('schedule') }}"><button type="button">🏠 Home</button></a>
    </form>

    {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul style="list-style: none; padding: 0;">
      {% for category, message in messages %}
        <li style="color: {% if category == 'success' %}green{% elif category == 'danger' %}red{% else %}black{% endif %};">
          {{ message }}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

</body>
</html>
